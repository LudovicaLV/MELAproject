#Space: TwoD(4,4)

#Parameters
r1 = 0.5;
r2 = 0.3;
r3 = 0.8;
r4 = 0.6;
p = 0.9;
m = 0.9;

#Agents
S(l):=->{all}(action1,r1)<<S(l) + (action2,r2).I(l) + <-(action4,p).I(l) + (move,m).S(newl);
I(l):=(action3,r3)<<I(l);

#Environment
En:=->{all}(action4,r4).En;

#Initial conditions
S(1,1)[10]||En[1]